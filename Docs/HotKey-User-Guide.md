# 组合键配置功能使用指南

## 概述

GameCheatHelper v1.1 新增了图形化组合键配置功能，用户可以通过界面轻松设置和管理支持 Ctrl、Alt、Shift、Win 修饰键的快捷键组合。

---

## 功能特性

### ✨ 核心功能
- 🎯 **实时录制**：点击输入框后直接按下组合键即可录制
- 🔄 **即时生效**：保存后无需重启，热键立即生效
- ⚠️ **冲突检测**：自动检测并提示热键冲突
- 🗑️ **快速清除**：一键清除已设置的热键
- 💾 **自动保存**：热键配置自动保存到文件

### 🎮 支持的修饰键
- **Ctrl**：控制键
- **Alt**：交替键
- **Shift**：上档键
- **Win**：Windows 徽标键

可以单独使用或任意组合使用（如 Ctrl+Alt+F1）

---

## 使用教程

### 1. 为新秘籍设置组合键

#### 步骤 1：打开添加秘籍对话框
1. 启动 GameCheatHelper
2. 点击主窗口底部的 **"➕ 添加秘籍"** 按钮

#### 步骤 2：填写秘籍基本信息
1. **游戏类型**：选择游戏（魔兽争霸3 或 星际争霸1）
2. **秘籍代码**：输入秘籍代码（如 greedisgood）
3. **描述**：输入秘籍说明（如 增加资源）
4. **分类**：选择或输入分类
5. **启用该秘籍**：勾选以启用

#### 步骤 3：录制组合键
1. 找到 **"快捷键"** 部分
2. 点击热键输入框（显示 "点击录制热键..."）
3. 输入框背景变为蓝色，提示 "按下组合键..."
4. 按下想要的组合键（例如：同时按下 `Ctrl + Alt + F1`）
5. 输入框自动显示 "Ctrl+Alt+F1"

![热键录制示例](https://via.placeholder.com/400x100?text=Ctrl%2BAlt%2BF1)

#### 步骤 4：保存秘籍
1. 确认信息无误后，点击 **"保存"** 按钮
2. 秘籍添加成功，热键立即生效

---

### 2. 编辑现有秘籍的组合键

#### 步骤 1：选择秘籍
1. 在主窗口的秘籍列表中，点击要编辑的秘籍
2. 点击 **"✏ 编辑"** 按钮

#### 步骤 2：修改组合键
1. 编辑对话框会显示当前秘籍的所有信息
2. 快捷键输入框显示当前热键（如 "Ctrl+F1"）
3. 点击输入框重新录制新的组合键
4. 或点击输入框右侧的 **✕ 按钮**清除热键

#### 步骤 3：保存修改
1. 点击 **"保存"** 按钮
2. 热键更新成功，立即生效

---

### 3. 清除热键

如果想要移除秘籍的热键绑定：

**方法 1：使用清除按钮**
1. 在编辑对话框中，点击热键输入框右侧的 **✕** 按钮
2. 热键被清除，输入框显示 "点击录制热键..."
3. 点击保存

**方法 2：重新录制**
直接录制新的组合键覆盖旧的

---

## 组合键示例

### 常用组合键模板

| 组合键 | 说明 | 适用场景 |
|--------|------|---------|
| `Ctrl+F1` ~ `Ctrl+F12` | 控制键 + 功能键 | 常用秘籍 |
| `Alt+F1` ~ `Alt+F12` | 交替键 + 功能键 | 次常用秘籍 |
| `Shift+F1` ~ `Shift+F12` | 上档键 + 功能键 | 特殊秘籍 |
| `Ctrl+Alt+F1` ~ `F12` | 双修饰键组合 | 高级秘籍 |
| `Ctrl+Shift+1` ~ `9` | 控制键 + 数字键 | 快速访问 |

### 示例配置

以下是推荐的魔兽争霸3秘籍热键配置：

| 秘籍代码 | 功能 | 推荐热键 |
|---------|------|---------|
| greedisgood | 增加资源 | `Ctrl+F1` |
| iseedeadpeople | 显示地图 | `Ctrl+F2` |
| whosyourdaddy | 无敌模式 | `Ctrl+F3` |
| thereisnospoon | 无限魔法 | `Ctrl+F4` |
| warpten | 快速建造 | `Ctrl+F5` |

---

## 热键冲突处理

### 什么是热键冲突？
当两个秘籍使用相同的组合键时，就会发生热键冲突。

### 冲突检测
系统会自动检测以下两种冲突：
1. **应用内冲突**：与其他秘籍的热键重复
2. **系统级冲突**：与 Windows 系统热键冲突

### 如何避免冲突？

**技巧 1：使用修饰键组合**
- 不推荐：单独使用 F1、F2 等
- 推荐：使用 Ctrl+F1、Alt+F2 等

**技巧 2：不同游戏使用相同热键**
- 魔兽3 和 星际1 的热键可以重复
- 系统会根据当前游戏自动切换

**技巧 3：避免系统保留热键**
以下组合键被 Windows 系统保留，无法使用：
- `Win+L`（锁定计算机）
- `Win+D`（显示桌面）
- `Win+E`（打开文件资源管理器）
- `Ctrl+Alt+Del`（安全选项）

### 冲突解决流程
1. 系统提示热键冲突
2. 记录冲突的秘籍名称
3. 选择以下操作之一：
   - 重新录制新的组合键
   - 修改冲突秘籍的热键
   - 清除其中一个热键

---

## 高级技巧

### 1. 分层热键配置

**初级秘籍**（常用）：
- 使用 `Ctrl+F1` ~ `Ctrl+F5`

**中级秘籍**（次常用）：
- 使用 `Alt+F1` ~ `Alt+F5`

**高级秘籍**（偶尔使用）：
- 使用 `Ctrl+Alt+F1` ~ `Ctrl+Alt+F5`

### 2. 左右手分工

**左手区域**（修饰键）：
- 左手按住 Ctrl、Alt、Shift

**右手区域**（功能键）：
- 右手按下 F1-F12 或数字键

### 3. 快速访问常用秘籍

将最常用的 3-5 个秘籍设置为简单的组合键：
- `Ctrl+1`、`Ctrl+2`、`Ctrl+3`...

---

## 配置文件说明

### 文件位置
```
GameCheatHelper/Data/DefaultHotKeys.json
```

### 手动编辑（高级用户）

虽然推荐使用图形界面，但您也可以直接编辑 JSON 文件：

```json
{
  "id": 1,
  "cheatCodeId": "wc3_greedisgood",
  "key": "F1",
  "modifiers": 3,
  "description": "魔兽3: greedisgood"
}
```

**修饰键值计算**：
- 无修饰键：0
- Alt：1
- Ctrl：2
- Ctrl+Alt：3
- Shift：4
- Shift+Alt：5
- Ctrl+Shift：6
- Ctrl+Alt+Shift：7
- Win：8
- Win+Alt：9
- Win+Ctrl：10
- Win+Ctrl+Alt：11
- Win+Shift：12
- Win+Shift+Alt：13
- Win+Ctrl+Shift：14
- 全部：15

---

## 常见问题 (FAQ)

### Q1: 热键不生效怎么办？
**A**: 检查以下几点：
1. 确认游戏正在运行
2. 确认秘籍已启用（勾选"启用该秘籍"）
3. 确认热键没有冲突
4. 尝试重新启动 GameCheatHelper

### Q2: 可以为一个秘籍设置多个热键吗？
**A**: 目前每个秘籍只能设置一个热键。如果需要多个热键，可以创建相同秘籍的多个副本。

### Q3: 热键录制时没有反应？
**A**: 确保：
1. 输入框已获得焦点（背景为蓝色）
2. 不要单独按修饰键（Ctrl/Alt/Shift/Win），需要配合其他按键
3. 尝试点击输入框重新开始录制

### Q4: 修改热键后需要重启应用吗？
**A**: 不需要！新的热键在保存后立即生效。

### Q5: 如何备份我的热键配置？
**A**: 复制 `Data/DefaultHotKeys.json` 文件到安全位置。需要恢复时，将文件复制回原位置。

### Q6: 为什么某些组合键无法使用？
**A**: 某些组合键被 Windows 系统保留（如 Win+L），无法被应用程序注册。请尝试其他组合键。

---

## 提示与最佳实践

### ✅ 推荐做法
- 使用直观易记的组合键
- 为常用秘籍设置简单的热键
- 定期备份热键配置文件
- 按功能分类设置热键（如资源类用 Ctrl+F1-F3）

### ❌ 不推荐做法
- 避免使用过于复杂的组合键（如 Ctrl+Alt+Shift+Win+F1）
- 不要为不常用的秘籍设置简单热键
- 不要设置容易误触的热键

---

## 技术支持

如果遇到问题，请：
1. 查看日志文件：`Logs/` 目录
2. 检查配置文件：`Data/DefaultHotKeys.json`
3. 查阅完整文档：`Docs/` 目录
4. 提交问题到项目仓库

---

**版本**: v1.1
**更新日期**: 2026-02-01
**作者**: GameCheatHelper 开发团队
